cmake_minimum_required(VERSION 3.12)
project(SpriteWorldX2)

set(LIB_NAME swx2)
set(SDL2_INCLUDE_DIR "" CACHE PATH "sdl2 include path")
set(SDL2_IMAGE_INCLUDE_DIR "" CACHE PATH "sdl2_image include path")
set(SDL2_TTF_INCLUDE_DIR "" CACHE PATH "sdl2_ttf include path")
set(SDL2_LIB "" CACHE FILEPATH "sdl2 lib")
set(SDL2_IMAGE_LIB "" CACHE FILEPATH "sdl2_image lib")
set(SDL2_TTF_LIB "" CACHE FILEPATH "sdl2_ttf lib")

# find_library(SDLXX NAMES sdl2)
# list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR}/cmake/)

# option(CMAKE_USE_WIN32_THREADS_INIT "using WIN32 threads" ON)
# set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -std=c++1z -pthread" )
set(THREADS_PREFER_PTHREAD_FLAG TRUE)
find_package(Threads REQUIRED)


add_library(${LIB_NAME} STATIC 
sources/SpriteWorld.c
sources/Sprite.c
sources/SpriteCreation.c
sources/SpriteLayer.c
sources/SpriteFrame.c
sources/SpriteWorldUtils.c
sources/Scrolling.c
sources/Tiling.c

headers/SpriteWorld.h
headers/Sprite.h
headers/SpriteCreation.h
headers/SpriteLayer.h
headers/SpriteFrame.h
headers/SpriteWorldUtils.h
headers/Scrolling.h
headers/Tiling.h
headers/SWIncludes.h
headers/SWCommonHeaders.h

contrib/StaticText.h
contrib/StaticText.c
)

target_include_directories(${LIB_NAME} 
PUBLIC
${PROJECT_SOURCE_DIR}/contrib 
${PROJECT_SOURCE_DIR}/headers
${PROJECT_SOURCE_DIR}/Utils
)

target_include_directories(${LIB_NAME} 
PRIVATE 
${SDL2_INCLUDE_DIR}
${SDL2_IMAGE_INCLUDE_DIR}
${SDL2_TTF_INCLUDE_DIR}
)

target_link_libraries(${LIB_NAME} 
${SDL2_LIB}
${SDL2_IMAGE_LIB}
${SDL2_TTF_LIB}
)
